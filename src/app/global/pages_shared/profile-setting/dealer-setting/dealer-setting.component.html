<div class="row mt-5" *ngIf="user_data; else spinner">
    <div class="col-lg-12">
        <mat-card class="p-5">
            <form [formGroup]="update_user" (ngSubmit)="updateUserInfo()">
                <div class="d-flex align-items-center mb-4">
                    <app-update-profile-photo [page_data]="user_data" [dealer]="true" (refresh_image)="ngOnInit()">
                    </app-update-profile-photo>
                    <div class="flex-even">
                        <h3>Dealer Profile Info</h3>
                        <p class="sm-text mb-0">Modify Basic Dealer Info and Save Changes.</p>
                    </div>
                    <div class="text-right">
                        <button
                            type="button"
                            mat-button
                            mat-raised-button
                            class="theme-btn mt-4 mr-3"
                            [disabled]="update_info_form_disabled"
                            (click)="activateEdit(true)">
                            Edit
                        </button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 text-success mb-3">
                        Dealer Since
                        {{ user_data.startDate | date: 'MMM dd, yyyy' }}
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4" *ngFor="let f of form_fields_view">
                        <mat-form-field class="full-width" *ngIf="!f.isComponent; else customField">
                            <mat-label>{{ f.label }}</mat-label>
                            <input
                                matInput
                                formControlName="{{ f.control }}"
                                [type]="f.type"
                                [placeholder]="f.placeholder" />
                        </mat-form-field>
                        <ng-template #customField>
                            <ng-container *ngIf="f.control === 'contact'">
                                <app-contact-number
                                    (contact_value)="getContactValue($event)"
                                    (touch_and_not_valid)="setContactNumberToInvalid($event)"
                                    [initial_value]="currentContactValue"
                                    [disable]="disableField"></app-contact-number>
                            </ng-container>
                        </ng-template>
                    </div>
                </div>
                <div>
                    <button
                        mat-button
                        mat-raised-button
                        class="theme-btn mt-4 mr-3"
                        [disabled]="!update_info_form_disabled || contactTouchAndInvalid">
                        Update
                    </button>
                    <button
                        type="button"
                        mat-button
                        mat-raised-button
                        [disabled]="!update_info_form_disabled"
                        (click)="activateEdit(false)"
                        class="theme-btn">
                        Cancel
                    </button>
                </div>
            </form>
        </mat-card>
    </div>
</div>
<ng-template #spinner>
    <div class="py-5">
        <app-spinner [diameter]="85"></app-spinner>
    </div>
</ng-template>
<ng-template #no_license>
    <div class="py-4 align-items-center justify-content-center">
        <h3>Oh Snap!</h3>
        <p class="sm-text mb-3">There are no available licenses at the moment.</p>
    </div>
</ng-template>
<ng-template #no_advertiser>
    <div class="py-1 align-items-center justify-content-center">
        <h3>Aw, Sorry!</h3>
        <p class="sm-text mb-3">There are no available advertiser profile at the moment.</p>
        <button
            mat-button
            mat-raised-button
            class="md-text mb-1 theme-btn mr-2"
            [routerLink]="['/dealer/advertisers/create-advertiser']">
            Add Advertiser Profile
            <span class="fas fa-user ml-2 sm-text"></span>
        </button>
    </div>
</ng-template>
<ng-template #no_host>
    <div class="py-1 align-items-center justify-content-center">
        <h3>Ugh, Sorry!</h3>
        <p class="sm-text mb-3">There are no available host place at the moment.</p>
        <button
            mat-button
            mat-raised-button
            class="md-text mb-1 theme-btn mr-2"
            [routerLink]="['/dealer/hosts/create-host']">
            Add Host Place
            <span class="fas fa-map-marker ml-2 sm-text"></span>
        </button>
    </div>
</ng-template>
<ng-template #no_content>
    <div class="py-1 align-items-center justify-content-center">
        <h3>Oh no!</h3>
        <p class="sm-text mb-3">There are no available content at the moment.</p>
        <button
            mat-button
            mat-raised-button
            class="md-text mb-1 theme-btn mr-2"
            [routerLink]="['/dealer/media-library']">
            Add Content
            <span class="fas fa-upload ml-2 sm-text"></span>
        </button>
    </div>
</ng-template>
