<div class="container">
	<ng-container *ngIf="is_banner_data_ready; else loading">
		<app-banner
			[image]="currentImage"
			[title]="advertiser.name"
			[description]="description"
			[editable]="!has_only_view_permission"
			(update_info)="ngOnInit()"
			[page]="'single-advertiser'"
			[page_data]="advertiserAndDealer"
			[refresh_banner]="true">
		</app-banner>
	</ng-container>

	<div class="margin-top-extra-notes">
		<div class="content-section">
			<div class="row">
				<div class="col-lg-12">
					<mat-tab-group dynamicHeight [selectedIndex]="selected_index">
						<mat-tab label="Content">
							<div class="container pt-4 pl-0 pr-0 pb-4">
								<mat-card>
									<ng-container *ngIf="contents_loaded; else loading">
										<ng-container *ngIf="content_data.length > 0; else noContents">
											<app-data-table
												[table_columns]="table_columns"
												[table_data]="content_data"
												[media_array]="array_to_preview"
												[preview_column]="true"
												[new_table]="true"
												[is_view_only]="has_only_view_permission">
											</app-data-table>
										</ng-container>
									</ng-container>
								</mat-card>
							</div>
						</mat-tab>
					</mat-tab-group>
				</div>
			</div>
		</div>
	</div>
</div>

<ng-template #loading>
	<div class="loading-wrapper">
		<app-spinner></app-spinner>
	</div>
</ng-template>

<ng-template #noContents>
	<div class="no-contents d-flex flex-column align-items-center pl-0 pr-0">
		<div class="mb-4">
			<i class="text-gray fa-5x far fa-file-alt"></i>
		</div>
		<h3 class="text-gray col-lg-12">No Contents Found</h3>
		<span class="text-gray col-lg-12">Try adding or assigning contents to this advertiser first</span>
	</div>
</ng-template>
